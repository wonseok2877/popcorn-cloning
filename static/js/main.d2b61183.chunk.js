(this["webpackJsonppopcorn-cloning"]=this["webpackJsonppopcorn-cloning"]||[]).push([[0],{80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var r=n(34),c=n.n(r),a=n(1),s=n(4),i=n(0),o=Object(a.createContext)(),l=function(e){var t=Object(a.useState)("MOVIE"),n=Object(s.a)(t,2),r=n[0],c=n[1];return Object(i.jsx)(o.Provider,{value:{globalFocus:r,setGlobalFocus:c},children:e.children})},u=n(7),d=n(5),p=n(3),j=n.n(p),b=n(6),h=n(35),f=n.n(h).a.create({baseURL:"https://api.themoviedb.org/3/",params:{api_key:"bd4caebde93cff205b912a48554bbd5e"}}),x={nowPlaying:function(e){return f.get("movie/now_playing",{params:{page:e}})},upComing:function(e){return f.get("movie/upcoming",{params:{page:e}})},topRated:function(e){return f.get("movie/top_rated",{params:{page:e}})},popular:function(e){return f.get("movie/popular",{params:{page:e}})},movieById:function(e){return f.get("movie/".concat(e),{params:{append_to_response:"videos"}})},search:function(e,t){return f.get("search/movie",{params:{query:e,page:t}})},allGenres:function(){return f.get("/genre/movie/list")},keywordsById:function(e){return f.get("movie/".concat(e,"/keywords"))},credits:function(e){return f.get("/movie/".concat(e,"/credits"))},similarById:function(e,t){return f.get("/movie/".concat(e,"/similar"),{params:{page:t}})},discoverByKeyword:function(e){return f.get("discover/movie",{params:{with_keywords:e}})},discoverByGenre:function(e,t){return f.get("discover/movie",{params:{with_genres:e,page:t}})}},m={topRated:function(e){return f.get("tv/top_rated",{params:{page:e}})},popular:function(e){return f.get("tv/popular",{params:{page:e}})},airingToday:function(e){return f.get("tv/airing_today",{params:{page:e}})},tvById:function(e,t){return f.get("tv/".concat(e),{params:{append_to_response:"videos",page:t}})},search:function(e,t){return f.get("search/tv",{params:{query:e,page:t}})},similarById:function(e,t){return f.get("tv/".concat(e,"/similar"),{params:{page:t}})},allGenres:function(){return f.get("/genre/tv/list")},keywordsById:function(e){return f.get("tv/".concat(e,"/keywords"))},credits:function(e){return f.get("tv/".concat(e,"/credits"))},discoverByKeyword:function(e){return f.get("discover/tv",{params:{with_keywords:e}})},discoverByGenre:function(e,t){return f.get("discover/tv",{params:{with_genres:e,page:t}})}},g=function(e){return Object(i.jsx)("div",{className:"flex relative w-full mt-5",children:e.children})},O=function(e){return Object(i.jsx)("div",{className:"flex flex-col justify-evenly items-center text-center text-4xl opacity-0 absolute w-full h-full bg-opacity-0 bg-black hover:opacity-100 hover:bg-opacity-70 transition-all ease-in-out duration-500",children:e.children})},v=function(e){for(var t=e.voteAverage/2,n=Math.floor(t),r=t-n>=.3,c=[],a=0;a<n;a++)c.push(Object(i.jsx)("i",{className:"fas fa-star text-yellow-500"},a));return Object(i.jsxs)("div",{children:[c,r&&Object(i.jsx)("i",{className:"fas fa-star-half-alt text-yellow-500"})]})},y=function(e){var t=e.children;return Object(i.jsx)("span",{style:{fontFamily:"Cinzel, serif"},children:t})},w=function(e){var t=e.poster_path,n=e.imageSize;return Object(i.jsx)(i.Fragment,{children:t?Object(i.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(t),alt:"backdrop",style:{width:n,height:1.5*n},onLoad:function(e){e.target.style.opacity=100},className:"opacity-0 transition-opacity ease-in-out duration-500"}):Object(i.jsx)("article",{style:{width:n,height:1.5*n,backgroundColor:"gray"}})})},k=function(e){var t=e.content,n=t.id,r=t.title,c=t.name,a=t.vote_average,s=t.vote_count,o=t.release_date,l=t.first_air_date,d=t.poster_path,p=e.contentType,j=e.imageSize;return console.log(p),Object(i.jsx)(i.Fragment,{children:"MOVIE"===p?Object(i.jsx)(u.b,{to:"/movie/".concat(n),children:Object(i.jsxs)(g,{children:[Object(i.jsx)(w,{poster_path:d,imageSize:j}),Object(i.jsxs)(O,{children:[Object(i.jsx)(y,{children:r.length>30?r.substring(0,30)+"...":r}),Object(i.jsx)("span",{children:l?l.substring(0,4):null===o||void 0===o?void 0:o.substring(0,4)}),Object(i.jsxs)("div",{children:[Object(i.jsx)(v,{voteAverage:a}),s>0&&Object(i.jsxs)("span",{className:"text-sm",children:["(",s,")"]})]})]})]})}):"TV_SHOWS"===p&&Object(i.jsx)(u.b,{to:"/tv/".concat(n),children:Object(i.jsxs)(g,{children:[Object(i.jsx)(w,{poster_path:d,imageSize:j}),Object(i.jsxs)(O,{children:[Object(i.jsx)(y,{children:c?c.length>30?c.substring(0,30)+"...":c:r.length>30?r.substring(0,30)+"...":r}),Object(i.jsx)("span",{children:l?l.substring(0,4):null===o||void 0===o?void 0:o.substring(0,4)}),Object(i.jsxs)("div",{children:[Object(i.jsx)(v,{voteAverage:a}),s>0&&Object(i.jsxs)("span",{className:"text-sm",children:["(",s,")"]})]})]})]})})})},S=function(e){var t=e.children;return Object(i.jsx)("div",{className:"flex z-10 flex-wrap justify-evenly w-full",children:t})},N=n(37),T=function(e){return Object(i.jsx)("div",{className:"text-2xl",children:e.children})},C=function(e){return Object(i.jsx)("span",{className:"p-4 mr-3 text-lg bg-black bg-opacity-30 rounded-full",children:e.children})},_=function(e){return Object(i.jsx)("div",{className:"mt-5",children:Object(i.jsx)("span",{className:" text-lg text-gray-400",children:e.children})})},I=function(e){var t=e.children;return Object(i.jsx)("div",{className:"text-6xl",style:{fontFamily:"Cinzel, serif"},children:t})},E=function(e){var t=e.detail,n=t.title,r=t.name,c=t.release_date,a=t.first_air_date,s=t.last_air_date,o=t.genres,l=t.overview,d=t.videos,p=t.backdrop_path,j=t.homepage,b=t.production_companies,h=t.tagline,f=t.runtime,x=t.episode_run_time,m=t.seasons,g=e.creditList,O=e.isVideoFocused,v=e.isCreditSelected,y=e.handleVideoClick,w=e.handleCreditClick,k=e.handleTagClick,S=e.isPulse;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"flex",children:[Object(i.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(p),alt:"backdrop",style:{height:"92vh"},className:"absolute w-screen"}),Object(i.jsxs)("div",{className:"z-0 w-full p-8  text-white bg-black ".concat(O?"bg-opacity-90":"bg-opacity-50 "," ").concat(S&&"animate-pulse"," "),style:{height:"92vh"},children:[Object(i.jsxs)("div",{className:"flex justify-between items-center",children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("a",{href:j||null,target:"_blank",rel:"noopener noreferrer",title:"home page",children:Object(i.jsx)(I,{children:n||r})}),Object(i.jsxs)("div",{className:"".concat(n?"w-32":"w-80"," flex items-center justify-between"),children:[Object(i.jsx)(T,{children:c?c.substring(0,4):a.substring(0,4)+" ~ "+s.substring(0,4)}),m&&Object(i.jsx)("span",{children:m[m.length-1].name}),f?Object(i.jsxs)("span",{children:[f," min"]}):x?Object(i.jsxs)("span",{children:[x[x.length-1]," min"]}):null]})]}),(null===b||void 0===b?void 0:b.length)>0&&b[0].logo_path&&Object(i.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(b[0].logo_path),alt:"logo",className:"w-40 h-28 mx-10",title:"".concat(b[0].name)})]}),Object(i.jsx)("div",{className:"my-10",children:o.map((function(e,t){return Object(i.jsx)(C,{children:e.name},t)}))}),Object(i.jsxs)("div",{className:"my-8 ",children:[h&&Object(i.jsxs)("h1",{className:"text-3xl bg-gradient-to-r from-transparent via-indigo-200 to-transparent hover:opacity-100 transition-opacity ease-linear duration-500",children:[Object(i.jsx)("i",{className:"fas fa-quote-left relative -top-5 text-sm"}),Object(i.jsx)("span",{className:"mx-8",children:h})]}),Object(i.jsxs)(_,{children:[l.substring(0,300),"..."]})]}),Object(i.jsxs)("div",{className:"h-80 w-24 pt-4 flex flex-col justify-between items-center",children:[Object(i.jsx)("i",{onClick:y,className:"fas z-20 w-16 h-16  ml-3 text-7xl cursor-pointer ".concat(O?"fa-pause animate-pulse":"fa-play"),title:"trailer"}),d&&d.results.length>0&&O&&Object(i.jsx)(N.a,{videoId:d.results[0].key,opts:{playerVars:{autoplay:1}},className:"w-full h-screen absolute -top-2 left-0 z-10"}),Object(i.jsxs)("div",{className:"w-full flex justify-between items-center",children:[Object(i.jsx)("i",{className:"fas fa-users text-7xl cursor-pointer",onClick:w,title:"credits"}),g.length>0&&Object(i.jsx)("div",{className:"z-0 relative ml-10 mb-7 flex opacity-0 ".concat(v?"opacity-100":""," transition-opacity ease-in-out duration-300"),children:g.map((function(e,t){return Object(i.jsx)(u.b,{to:"/people/".concat(e.id),className:"w-20 h-20 mr-6 ",children:Object(i.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(e.profile_path),alt:"profile",onLoad:function(e){e.target.style.opacity=100},className:"rounded-md opacity-0 transition-opacity ease-in-out duration-300 ",title:e.original_name})},t)}))})]}),Object(i.jsx)("i",{className:"fas fa-hashtag text-7xl cursor-pointer",onClick:k,title:"keywords"})]})]})]})})},F=function(e){return Object(i.jsx)("div",{className:"pt-20 bg-black text-white",children:e.children})},B=function(e){var t=e.children;return Object(i.jsx)("div",{className:" my-5 ml-3 text-5xl text-white",style:{fontFamily:"Carter One, cursive"},children:t})},P=function(){return Object(i.jsx)("i",{className:"fas fa-spinner text-5xl animate-spin text-white"})},V=function(e,t){var n=localStorage.getItem(e);if(n){var r=JSON.parse(n);if(r.find((function(e){return e.id===t.id})))return;r.unshift(t);var c=JSON.stringify(r);localStorage.setItem(e,c)}else{var a=Array.of(t),s=JSON.stringify(a);localStorage.setItem(e,s)}},z=function(e){var t=e.children;return Object(i.jsx)("div",{className:"w-screen h-screen flex justify-center items-center bg-black",children:t})},M=function(e){window.scroll({top:e,behavior:"smooth"})},R=n(9),L=function(){var e=Object(d.i)().id,t=Object(d.h)().pathname,n=Object(a.useState)({}),r=Object(s.a)(n,2),c=r[0],l=r[1],u=Object(a.useState)({}),p=Object(s.a)(u,2),h=p[0],f=p[1],g=Object(a.useState)([]),O=Object(s.a)(g,2),v=O[0],y=O[1],w=Object(a.useState)([]),N=Object(s.a)(w,2),T=N[0],C=N[1],_=Object(a.useState)([]),I=Object(s.a)(_,2),L=I[0],G=I[1],H=Object(a.useState)(!1),A=Object(s.a)(H,2),W=A[0],D=A[1],q=Object(a.useState)(!0),J=Object(s.a)(q,2),K=J[0],U=J[1],Y=Object(a.useState)("SIMILAR"),Q=Object(s.a)(Y,2),X=Q[0],Z=Q[1],$=Object(a.useState)(!1),ee=Object(s.a)($,2),te=ee[0],ne=ee[1],re=Object(a.useContext)(o),ce=re.globalFocus,ae=re.setGlobalFocus,se=Object(a.useRef)();Object(a.useEffect)((function(){(function(){var n=Object(b.a)(j.a.mark((function n(){var r,c,a,s,i,o,u,d,p,b,h,g;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!t.includes("movie")){n.next=20;break}return n.next=4,x.movieById(e);case 4:return r=n.sent,c=r.data,n.next=8,x.similarById(e,1);case 8:return a=n.sent,s=a.data.results,n.next=12,x.keywordsById(e);case 12:i=n.sent,o=i.data.keywords,V("movie-history",c),l(c),y(o),f(s),n.next=41;break;case 20:if(!t.includes("tv")){n.next=40;break}return n.next=23,m.tvById(e);case 23:return u=n.sent,d=u.data,n.next=27,m.similarById(e,1);case 27:return p=n.sent,b=p.data.results,n.next=31,m.keywordsById(e);case 31:h=n.sent,g=h.data.results,V("tv-history",d),ae("TV_SHOWS"),l(d),f(b),y(g),n.next=41;break;case 40:throw new Error("there is no such path.");case 41:n.next=46;break;case 43:n.prev=43,n.t0=n.catch(0),console.log(n.t0);case 46:G([]),ne(!1);case 48:case"end":return n.stop()}}),n,null,[[0,43]])})));return function(){return n.apply(this,arguments)}})()()}),[e,t,ce]),Object(a.useEffect)((function(){return M(0),c.id&&setTimeout((function(){return U(!1)}),2100),function(){return U(!0)}}),[c]),console.log("rendered."),console.log(c),console.log(L);var ie=function(){var e=Object(b.a)(j.a.mark((function e(t,n){var r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.discoverByKeyword(t);case 2:r=e.sent,c=r.data.results,C(c),Z(n);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),oe=function(){var t=Object(b.a)(j.a.mark((function t(){var n,r,c,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==L.length){t.next=21;break}if(t.prev=1,"MOVIE"!==ce){t.next=11;break}return console.log("function executed."),t.next=6,x.credits(e);case 6:n=t.sent,r=n.data.cast,G(r.filter((function(e,t){return t<=6}))),t.next=16;break;case 11:return t.next=13,m.credits(e);case 13:c=t.sent,a=c.data.cast,G(a.filter((function(e,t){return t<=6})));case 16:t.next=21;break;case 18:t.prev=18,t.t0=t.catch(1),console.log(t.t0);case 21:ne(!te);case 22:case"end":return t.stop()}}),t,null,[[1,18]])})));return function(){return t.apply(this,arguments)}}();return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(R.a,{children:Object(i.jsx)("title",{children:"Detail | Popcorn Time"})}),Object(i.jsxs)(F,{children:[c.videos?Object(i.jsx)(E,{detail:c,creditList:L,isVideoFocused:W,isCreditSelected:te,isPulse:K,handleVideoClick:function(){D(!W)},handleCreditClick:oe,handleTagClick:function(){var e,t;M((null===(e=se.current)||void 0===e?void 0:e.offsetTop)-(null===(t=se.current)||void 0===t?void 0:t.scrollHeight))}}):Object(i.jsx)(z,{children:Object(i.jsx)(P,{})}),Object(i.jsxs)("div",{ref:se,className:"flex flex-wrap",children:[Object(i.jsx)("span",{onClick:function(){return Z("SIMILAR")},className:"mx-3 mt-5 p-3 text-xl cursor-pointer text-white bg-gray-300 bg-opacity-30 rounded-full",children:"similar"}),(null===v||void 0===v?void 0:v.length)>0&&v.map((function(e,t){return Object(i.jsxs)("span",{onClick:function(){return ie(e.id,e.name)},className:"mx-3 mt-5 p-3 text-xl cursor-pointer text-white bg-gray-300 bg-opacity-30 rounded-2xl",children:[Object(i.jsx)("i",{className:"fas fa-hashtag"})," ",e.name]},t)}))]}),Object(i.jsx)(B,{children:"SIMILAR"===X?"MOVIE"===ce?"similar movies":"similar shows":Object(i.jsxs)("h1",{children:[Object(i.jsx)("i",{className:"fas fa-hashtag mx-3 -mt-5"}),X]})}),Object(i.jsx)(S,{children:"SIMILAR"===X?h.length>0&&h.map((function(e,t){return Object(i.jsx)(k,{content:e,contentType:ce,imageSize:200},t)})):T.length>0&&T.map((function(e,t){return Object(i.jsx)(k,{content:e,contentType:ce,imageSize:200},t)}))})]})]})},G=function(e){return Object(i.jsxs)("div",{className:"w-screen h-14 mt-20 fixed z-10 text-4xl px-4 bg-black",children:[Object(i.jsx)("div",{className:"flex justify-between"}),e.children]})},H=function(){var e=Object(a.useContext)(o),t=e.globalFocus,n=e.setGlobalFocus;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)(G,{children:[Object(i.jsx)(u.b,{to:"/",onClick:function(){return n("MOVIE")},className:"pb-1 mr-5 border-b-4 border-transparent ".concat("MOVIE"===t&&"border-blue-500"," text-white transition-all ease-linear duration-500"),style:{fontFamily:"Carter One, cursive"},children:"Movies"}),Object(i.jsx)(u.b,{to:"/tv",onClick:function(){return n("TV_SHOWS")},className:"pb-1 mr-5 border-b-4 border-transparent ".concat("TV_SHOWS"===t&&"border-blue-500"," text-white transition-all ease-linear duration-500"),style:{fontFamily:"Carter One, cursive"},children:"TV shows"}),Object(i.jsx)(u.b,{to:"/people",onClick:function(){return n("PEOPLE")},className:"pb-1 mr-5 border-b-4 border-transparent ".concat("PEOPLE"===t&&"border-blue-500"," text-white transition-all ease-linear duration-500"),style:{fontFamily:"Carter One, cursive"},children:"People"})]})})},A=function(e){return Object(i.jsx)("div",{className:"pt-36 pb-10 bg-black text-white",children:e.children})},W=n(18),D=function(){return Object(i.jsx)("img",{src:"./popcorn-time.png",alt:"popcorn-time",onLoad:function(e){e.target.style.opacity=100},className:"w-28 h-28 p-2 opacity-0 transition-opacity ease-in-out duration-300"})},q=function(e){var t=e.children,n=e.setIsSideBarOpen,r=e.isSideBarOpen;return Object(i.jsx)("div",{onMouseEnter:function(){return n(!0)},className:"fixed z-20 top-80 -left-2 focus:outline-none bg-black bg-opacity-80 rounded-full ".concat(r?"transform -translate-x-80 opacity-0":""," ease-in-out duration-500 delay-100"),children:t})},J=function(e){var t=e.children,n=e.handleClick,r=e.isCurrent;return Object(i.jsx)("span",{onClick:n,className:"".concat(r?"text-white border-l-2 bg-gradient-to-r from-indigo-800 via-indigo-500 to-indigo-300":"opacity-50"," pl-3 cursor-pointer hover:opacity-100 transition-opacity ease-in-out "),children:t})},K=function(e){var t=e.children;return Object(i.jsx)("h1",{className:"mb-4 pl-2 text-2xl text-white",style:{fontFamily:"Carter One, cursive"},children:t})},U=function(e){var t=e.requestAndDispatch,n=e.sortType,r=e.genres;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(K,{children:"Sort By"}),Object(i.jsx)(J,{handleClick:function(){window.scroll({top:0,behavior:"auto"}),t.popular()},isCurrent:"Popular"===n,children:"Popular"}),Object(i.jsx)(J,{handleClick:function(){window.scroll({top:0,behavior:"auto"}),t.topRated()},isCurrent:"Top-Rated"===n,children:"Top Rated"}),t.airingToday&&Object(i.jsx)(J,{handleClick:function(){window.scroll({top:0,behavior:"auto"}),t.airingToday()},isCurrent:"airing-today"===n,children:"Airing Today"}),null===r||void 0===r?void 0:r.map((function(e,r){return Object(i.jsx)(J,{handleClick:function(){window.scroll({top:0,behavior:"auto"}),t.discoverByGenre(e.name)},isCurrent:n===e.name,children:e.name},r)}))]})},Y=function(e){var t=e.children,n=e.isSideBarOpen,r=e.setIsSideBarOpen;return Object(i.jsx)("div",{onMouseLeave:function(){return r(!1)},className:"".concat(n?"":"transform -translate-x-20 opacity-0"," h-full w-48 fixed top-32 z-10 pt-8 text-left flex flex-col overflow-auto bg-black text-indigo-100 ease-in-out duration-500"),children:t})},Q=function(e){var t=Object(a.useState)(!1),n=Object(s.a)(t,2),r=n[0],c=n[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(q,{isSideBarOpen:r,setIsSideBarOpen:c,children:Object(i.jsx)(D,{})}),Object(i.jsx)(Y,{isSideBarOpen:r,setIsSideBarOpen:c,children:Object(i.jsx)(U,Object(W.a)({},e))})]})},X=n(15),Z={sortType:"",page:1,results:null},$=function(){var e=Object(a.useReducer)((function(e,t){console.log(t);var n=t.type,r=t.page,c=t.results;if(n===e.sortType)return r===e.page+1?Object(W.a)(Object(W.a)({},e),{},{page:r,results:[].concat(Object(X.a)(e.results),Object(X.a)(c))}):(console.log("what the fuck?"),e);switch(n){case n:return{sortType:n,page:r,results:c};default:if(!n)throw new Error}}),Z),t=Object(s.a)(e,2);return{state:t[0],dispatch:t[1]}},ee=function(){var e,t=$(),n=t.state,r=t.dispatch,c=Object(a.useState)([]),o=Object(s.a)(c,2),l=o[0],u=o[1];console.log(n),Object(a.useEffect)((function(){d.allGenres(),d.popular()}),[]),Object(a.useEffect)((function(){var e=function(){if(window.innerHeight+window.scrollY===document.body.offsetHeight){!function(){switch(n.sortType){case"Now-Playing":return d.nowPlaying(n.page+1);case"Up-Coming":return d.upComing(n.page+1);case"Popular":return d.popular(n.page+1);case"Top-Rated":return d.topRated(n.page+1);default:d.discoverByGenre(n.sortType,n.page+1)}}()}};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[n.sortType,n.page]);var d={allGenres:function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.allGenres();case 3:t=e.sent,n=t.data.genres,u(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),discoverByGenre:function(){var e=Object(b.a)(j.a.mark((function e(t){var n,c,a,s,i,o=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:1,c=l.find((function(e){return e.name===t})),a=c.id,e.prev=2,e.next=5,x.discoverByGenre(a,n);case 5:s=e.sent,i=s.data.results,r({type:t,page:n,results:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),nowPlaying:function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,c,a=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,e.prev=1,e.next=4,x.nowPlaying(t);case 4:n=e.sent,c=n.data.results,r({type:"Now-Playing",page:t,results:c}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),upComing:function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,c,a=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,e.prev=1,e.next=4,x.upComing(t);case 4:n=e.sent,c=n.data.results,r({type:"Up-Coming",page:t,results:c}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),popular:function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,c,a=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,e.prev=1,e.next=4,x.popular(t);case 4:n=e.sent,c=n.data.results,r({type:"Popular",page:t,results:c}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),topRated:function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,c,a=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,e.prev=1,e.next=4,x.topRated(t);case 4:n=e.sent,c=n.data.results,r({type:"Top-Rated",page:t,results:c}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(R.a,{children:Object(i.jsx)("title",{children:"Movie | Popcorn Time"})}),Object(i.jsx)(H,{}),Object(i.jsxs)(A,{children:[Object(i.jsx)(Q,{requestAndDispatch:d,sortType:n.sortType,genres:l}),Object(i.jsx)(S,{children:(null===(e=n.results)||void 0===e?void 0:e.length)>0&&n.results.map((function(e,t){return Object(i.jsx)(k,{content:e,contentType:"MOVIE",imageSize:300},t)}))})]})]})},te={popular:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return f.get("/person/popular",{params:{page:e}})},detail:function(e){return f.get("/person/".concat(e))},images:function(e){return f.get("/person/".concat(e,"/images"))},movieCredits:function(e){return f.get("/person/".concat(e,"/movie_credits"))}},ne=function(){var e=Object(a.useState)(1),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),o=Object(s.a)(c,2),l=o[0],d=o[1];return Object(a.useEffect)((function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.popular();case 2:t=e.sent,n=t.data.results,d(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(a.useEffect)((function(){var e=function(){window.innerHeight+window.scrollY===document.body.offsetHeight&&r((function(e){return e+1}))};return window.addEventListener("scroll",e),function(){return window.removeEventListener("scroll",e)}}),[l]),Object(a.useEffect)((function(){n>1&&function(){var e=Object(b.a)(j.a.mark((function e(){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te.popular(n);case 2:t=e.sent,r=t.data.results,d((function(e){return[].concat(Object(X.a)(e),Object(X.a)(r))}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[n]),console.log(l),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(R.a,{children:Object(i.jsx)("title",{children:"People | Popcorn Time"})}),Object(i.jsx)(H,{}),Object(i.jsxs)(A,{children:[Object(i.jsx)(B,{children:"Sorted by popularity"}),Object(i.jsx)("div",{className:"flex flex-wrap justify-around",children:l.length>0?l.map((function(e,t){return Object(i.jsx)("div",{className:"flex ml-3",children:Object(i.jsxs)(u.b,{to:"/people/".concat(e.id),children:[Object(i.jsx)("img",{src:"https://image.tmdb.org/t/p/original".concat(e.profile_path),alt:"person",className:"w-72 h-96"}),Object(i.jsx)("span",{children:e.name})]})},t)})):Object(i.jsx)(z,{children:Object(i.jsx)(P,{})})})]})]})},re=function(){var e=$(),t=e.state,n=e.dispatch;console.log(t);var r=Object(a.useState)([]),c=Object(s.a)(r,2),l=c[0],u=c[1];console.log(l);Object(a.useContext)(o).setIsMovie;Object(a.useEffect)((function(){d.allGenres(),d.airingToday(1)}),[]),Object(a.useEffect)((function(){return window.addEventListener("scroll",p),function(){return window.removeEventListener("scroll",p)}}),[t.sortType,t.page]);var d={allGenres:function(){var e=Object(b.a)(j.a.mark((function e(){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.allGenres();case 3:t=e.sent,n=t.data.genres,u(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),discoverByGenre:function(){var e=Object(b.a)(j.a.mark((function e(t){var r,c,a,s,i=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:1,c=l.find((function(e){return e.name===t})),e.prev=2,e.next=5,m.discoverByGenre(c.id,r);case 5:a=e.sent,s=a.data.results,n({type:t,page:r,results:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),airingToday:function(){var e=Object(b.a)(j.a.mark((function e(){var t,r,c,a=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,e.prev=1,e.next=4,m.airingToday(t);case 4:r=e.sent,c=r.data.results,n({type:"airing-today",page:t,results:c}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),popular:function(){var e=Object(b.a)(j.a.mark((function e(){var t,r,c,a=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,e.prev=1,e.next=4,m.popular(t);case 4:r=e.sent,c=r.data.results,n({type:"Popular",page:t,results:c}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),topRated:function(){var e=Object(b.a)(j.a.mark((function e(){var t,r,c,a=arguments;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:1,e.prev=1,e.next=4,m.topRated(t);case 4:r=e.sent,c=r.data.results,n({type:"Top-Rated",page:t,results:c}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},p=function(){if(!(window.innerHeight+window.scrollY<document.body.offsetHeight)){!function(){switch(t.sortType){case"airing-today":return d.airingToday(t.page+1);case"Popular":return d.popular(t.page+1);case"Top-Rated":return d.topRated(t.page+1);default:d.discoverByGenre(t.sortType,t.page+1)}}()}};return console.log(t.results),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(R.a,{children:Object(i.jsx)("title",{children:"TV | Popcorn Time"})}),Object(i.jsx)(H,{}),Object(i.jsxs)(A,{children:[Object(i.jsx)(Q,{requestAndDispatch:d,sortType:t.sortType,genres:l}),Object(i.jsx)(S,{children:t.results&&t.results.map((function(e,t){return Object(i.jsx)(k,{content:e,contentType:"TV_SHOWS",imageSize:300},t)}))})]})]})},ce=function(){var e=JSON.parse(localStorage.getItem("movie-history")),t=JSON.parse(localStorage.getItem("tv-history"));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(R.a,{children:Object(i.jsx)("title",{children:"User | Popcorn Time"})}),Object(i.jsxs)(F,{children:[Object(i.jsx)(B,{children:"You watched ... "}),Object(i.jsx)(B,{children:"Movies"}),Object(i.jsx)(S,{children:(null===e||void 0===e?void 0:e.length)>0?e.map((function(e,t){return Object(i.jsx)(k,{content:e,contentType:"MOVIE",imageSize:200},t)})):"you haven't watched."}),Object(i.jsx)(B,{children:"TV shows"}),Object(i.jsx)(S,{children:(null===t||void 0===t?void 0:t.length)>0?t.map((function(e,t){return Object(i.jsx)(k,{content:e,contentType:"TV_SHOWS",imageSize:200},t)})):"you haven't watched."})]})]})},ae=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)([]),o=Object(s.a)(c,2),l=o[0],u=o[1],p=Object(a.useState)(!1),h=Object(s.a)(p,2),f=h[0],g=h[1],O=Object(d.i)().term;return Object(a.useEffect)((function(){g(!0),function(){var e=Object(b.a)(j.a.mark((function e(){var t,n,c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.search(O);case 3:return t=e.sent,n=t.data.results,e.next=7,m.search(O);case 7:c=e.sent,a=c.data.results,r(n),u(a),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0.message);case 16:return e.prev=16,g(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})));return function(){return e.apply(this,arguments)}}()()}),[O]),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(R.a,{children:Object(i.jsx)("title",{children:"Search | Popcorn Time"})}),f?Object(i.jsx)(z,{children:Object(i.jsx)(P,{})}):Object(i.jsxs)(F,{children:[Object(i.jsx)(B,{children:"movie searched"}),Object(i.jsx)(S,{children:n.length>0&&n.map((function(e,t){return Object(i.jsx)(k,{content:e,contentType:"MOVIE",imageSize:300},t)}))}),Object(i.jsx)(B,{children:"Tv show searched"}),Object(i.jsx)(S,{children:l.length>0&&l.map((function(e,t){return Object(i.jsx)(k,{content:e,contentType:"TV_SHOWS",imageSize:300},t)}))})]})]})},se=function(){var e=Object(d.i)().id,t=Object(a.useState)({}),n=Object(s.a)(t,2),r=n[0],c=n[1],l=Object(a.useState)([]),u=Object(s.a)(l,2),p=u[0],h=u[1],f=Object(a.useContext)(o).setGlobalFocus;return Object(a.useEffect)((function(){(function(){var t=Object(b.a)(j.a.mark((function t(){var n,r,a,s,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,te.detail(e);case 2:return n=t.sent,r=n.data,t.next=6,te.movieCredits(e);case 6:a=t.sent,s=a.data.cast,i=s.sort((function(e,t){return t.popularity-e.popularity})),c(r),h(i);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()(),window.scroll({top:0,behavior:"smooth"}),f("MOVIE")}),[]),console.log(r),console.log(p),Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(R.a,{children:Object(i.jsx)("title",{children:"Celebrity | Popcorn Time"})}),Object(i.jsxs)("div",{className:"pt-20 bg-black text-white",children:[r.id?Object(i.jsxs)("div",{className:" h-1/2 ml-4 flex flex-wrap",children:[Object(i.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(r.profile_path),alt:r.name,className:"w-1/4 h-1/2 mr-20"}),Object(i.jsxs)("div",{className:"mt-4",children:[Object(i.jsx)("h1",{className:"mb-5 text-5xl",children:r.name}),Object(i.jsx)("h1",{className:"text-3xl my-3 text-gray-400",children:"Place of birth"}),Object(i.jsx)("h3",{className:"mb-5 text-xl ",children:r.place_of_birth}),r.homepage&&Object(i.jsx)("a",{href:r.homepage,children:Object(i.jsx)("h1",{children:"home page!"})}),Object(i.jsx)("h1",{className:"text-3xl text-gray-400 my-3",children:"Biography"}),Object(i.jsxs)("span",{children:[" ",r.biography]})]})]}):Object(i.jsx)(z,{children:Object(i.jsx)(P,{})}),Object(i.jsx)("h1",{className:"ml-4 text-3xl text-gray-400 my-3",children:"Philmography"}),Object(i.jsx)("div",{className:"flex flex-wrap justify-between ",children:p.length>0&&p.map((function(e,t){return Object(i.jsx)(k,{content:e,contentType:e.title?"MOVIE":"TV_SHOWS",imageSize:200},t)}))})]})]})},ie=function(e){var t=e.children;return Object(i.jsx)("div",{className:"fixed z-50 w-screen flex justify-between items-center px-10 bg-black shadow-2xl",children:t})},oe=function(e){var t=e.globalFocus;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(u.b,{to:"MOVIE"===t?"/":"TV_SHOWS"===t?"/tv":"PEOPLE"===t&&"/people",children:Object(i.jsx)("img",{src:"https://popcorntime-online.ch/css/images/logo.svg",alt:"popcorn-time",className:"w-64 h-20"})})})},le=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),o=Object(s.a)(c,2),l=o[0],u=o[1],p=Object(a.useRef)(),j=Object(d.g)();Object(a.useEffect)((function(){j.listen((function(e){e.pathname.includes("/search")||r("")}))}),[j]),Object(a.useEffect)((function(){var e=p.current;return e&&(e.focus(),e.addEventListener("focusout",b.focusOut)),function(){return e.removeEventListener("focusout",b.focusOut)}}),[l]);var b={submit:function(e){e.preventDefault(),j.push("/search/".concat(n)),u(!1)},change:function(e){r(e.target.value)},keyDown:function(e){"Escape"===e.key&&u(!1)},focusOut:function(){u(!1)},clickImoticon:function(){u(!0)}};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("form",{onSubmit:function(e){return b.submit(e)},className:"text-center ".concat(l?"transform -translate-x-20 z-10":"opacity-0"," absolute right-0 transition-all ease-in-out duration-500"),children:Object(i.jsx)("input",{value:n,ref:p,onChange:b.change,onKeyDown:b.keyDown,className:"px-5 py-4 text-xl rounded-xl bg-gradient-to-r from-black to-gray-600 text-white cursor-default focus:outline-none ",type:"text",placeholder:"search for...",spellCheck:"false"})}),Object(i.jsx)("i",{className:"fas fa-search z-0 px-3 py-2 text-3xl rounded-full text-white bg-gray-700 bg-opacity-0 hover:bg-opacity-100 transition-colors ease-in-out duration-300 ".concat(l&&"opacity-0"),onClick:b.clickImoticon})]})},ue=function(){var e=Object(a.useContext)(o).globalFocus;return Object(i.jsxs)(ie,{children:[Object(i.jsx)(oe,{globalFocus:e}),Object(i.jsxs)("div",{className:"flex items-center",children:[Object(i.jsx)(u.b,{to:"/user",className:"z-10 text-white",children:Object(i.jsx)("i",{class:"fas fa-history text-3xl mr-5"})}),Object(i.jsx)(le,{})]})]})},de=function(){return Object(i.jsxs)(u.a,{children:[Object(i.jsx)(ue,{}),Object(i.jsxs)(d.d,{children:[Object(i.jsx)(d.b,{exact:!0,path:"/",component:ee}),Object(i.jsx)(d.b,{exact:!0,path:"/movie/:id",component:L}),Object(i.jsx)(d.b,{exact:!0,path:"/tv",component:re}),Object(i.jsx)(d.b,{exact:!0,path:"/tv/:id",component:L}),Object(i.jsx)(d.b,{exact:!0,path:"/search/:term",component:ae}),Object(i.jsx)(d.b,{exact:!0,path:"/people",component:ne}),Object(i.jsx)(d.b,{exact:!0,path:"/people/:id",component:se}),Object(i.jsx)(d.b,{exact:!0,path:"/user",component:ce}),Object(i.jsx)(d.a,{from:"/*",to:"/"})]})]})},pe=(n(80),n(81),function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(l,{children:Object(i.jsx)(de,{})})})}),je=Object(i.jsx)(pe,{}),be=document.querySelector("#root");c.a.render(je,be)}},[[82,1,2]]]);
//# sourceMappingURL=main.d2b61183.chunk.js.map